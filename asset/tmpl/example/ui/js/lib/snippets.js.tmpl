
/**
 * !! This is an auto-generated file and do not edit manually !! 
 * Snippet contents
 * @namespace Snippets
 */
'use strict';

/** Converted from "[object Object]" */

exports.DEFAULT_HTML = '<!--\n Default HTML for playground\n-->\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="UTF-8">\n  <link rel="stylesheet" href="css/theme.css">\n  <link rel="stylesheet" href="css/playground.css">\n  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css"/>\n  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css"/>\n  <script src="js/external.cc.js"></script>\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n</head>\n<body class="playground-body">\n<div id="playground-root">\n  <h3 class="playground-message">Loading dynamic contents...</h3>\n</div>\n</body>\n</html>\n';

/** Converted from "[object Object]" */
exports.DEFAULT_SCRIPT = '/**\n * Default script for playground\n */\n\'use strict\'\n\nrequire(\'babel-polyfill\')\n\nimport React, {PropTypes as types} from \'react\'\nimport {mount} from \'sg-react\'\nimport {\n  ApContainer,\n  ApBigButton,\n  ApSelectableArticle\n} from \'apeman-react-basic\'\nimport co from \'co\'\nimport sugoTerminal from \'sugo-terminal\'\nimport {sleep} from \'apemansleep\'\n\n/**\n * Dynamic component create from the online-editor\n * @class Playground\n */\nconst Playground = React.createClass({\n  // --------------------\n  // Specs\n  // --------------------\n\n  getInitialState () {\n    const s = this\n    let { spots } = s.props\n    return {\n      /** Key of spot to connect */\n      spotKey: spots.length > 0 ? spots[ 0 ].key : null,\n      /** Date ping send */\n      pingAt: null,\n      /** Date pong received */\n      pongAt: null\n    }\n  },\n\n  render () {\n    const s = this\n    let { state, props } = s\n    let { spots } = props\n    let { spotKey, pingAt, pongAt } = state\n    return (\n      <div className=\'dynamic-component\'>\n        <ApSelectableArticle\n          options={ (spots || []).reduce((options, spot) => Object.assign(options, {[spot.key]: spot.key}), {}) }\n          name=\'spotKey\'\n          label=\'Spot: \'\n          alt=\'No spot found! You need to connect one before playing\'\n          value={ spotKey }\n          onChange={ (e) => s.setState({ spotKey: e.target.value }) }\n        >\n          <ApSelectableArticle.Content contentFor={ String(spotKey) }>\n            <div className=\'playground-row\'>\n              <ApContainer>\n                <div className=\'playground-item\'>\n                  <p>Send a ping and receive pong.</p>\n                </div>\n                <div className=\'playground-item\'>\n                  <ApBigButton\n                    onTap={ () => s.withTerminal(function * sendPing (terminal) {\n                      if (s.state.pongAt) {\n                        // Reset to send ping\n                        s.setState({pingAt: null, pongAt: null})\n                        return\n                      }\n\n                      // Set up\n                      let spot = yield terminal.connect(spotKey)\n                      let noop = spot.noop()\n\n                      // Do ping-pong\n                      console.log(\'Send ping to noop...\')\n                      s.setState({pingAt: new Date().toLocaleTimeString()})\n                      let pong = yield noop.ping()\n                      s.setState({pongAt: new Date().toLocaleTimeString()})\n                      console.log(' + '`' + '...received ping from noop: "' + '${' + 'pong' + '}' + '"' + '`' + ')\n\n                      // Tear down\n                      yield spot.disconnect()\n                      yield sleep(10)\n                  }) }\n                    spinning={ pingAt && !pongAt }\n                    primary={ !pingAt }\n                  >{ pongAt ? ' + '`' + 'Pong at ' + '${' + 'pongAt' + '}' + '`' + ' : (pingAt ? \'Waiting...\' : \'Send ping\')} </ApBigButton>\n                </div>\n              </ApContainer>\n            </div>\n          </ApSelectableArticle.Content>\n        </ApSelectableArticle>\n      </div>\n    )\n  },\n\n  // --------------------\n  // LifeCycle\n  // --------------------\n\n  componentDidMount () {\n    const s = this\n    let { protocol, host } = window.location\n    s.terminal = sugoTerminal(' + '`' + '${' + 'protocol' + '}' + '//' + '${' + 'host' + '}' + '/terminals' + '`' + ')\n  },\n\n  // --------------------\n  // custom\n  // --------------------\n\n  withTerminal (handler) {\n    const s = this\n    let { terminal } = s\n    if (!terminal) {\n      return\n    }\n    co(handler, terminal).catch((err) => console.error(err))\n  }\n})\n\n// Mount react component\n{\n  let mountRoot = document.getElementById(\'playground-root\')\n  mount(mountRoot, Playground, {\n    spots: [].concat(window.spots || [])\n  }).then(() => {\n    console.debug(\'Playground mounted\')\n  }).catch((err) => console.error(err))\n}\n';